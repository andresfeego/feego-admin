@tailwind base;
@tailwind components;
@tailwind utilities;

html, body {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden; /* prevent page-level horizontal scroll */
}

/* Default theme: LIGHT (ThemeProvider sets data-theme) */
:root { color-scheme: light; }

html[data-theme="light"] { color-scheme: light; }
html[data-theme="dark"] { color-scheme: dark; }

html[data-theme="light"] body {
  background: var(--surface-page); /* pinterest-ish light gray */
  color: var(--text-main);
}

html[data-theme="dark"] body {
  background: var(--surface-page-gradient);
  color: var(--text-main);
}

/* System theme support */
html[data-theme="system"] body {
  background: var(--surface-page);
  color: var(--text-main);
}
@media (prefers-color-scheme: dark) {
  html[data-theme="system"] body {
    background: var(--surface-page-gradient);
    color: var(--text-main);
  }
}

body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Theme tokens */
html[data-theme="light"]{
  --feego-bg: var(--surface-page);
  --feego-card: var(--surface-card);
  --feego-card-solid: var(--surface-card-solid);
  --feego-text: var(--text-main);
  --feego-muted: var(--text-muted-3);
  --feego-border: var(--border-soft);
  --feego-shadow: var(--shadow-card);
  --feego-primary: var(--color-primary-strong);
  --feego-primary-2: var(--color-secondary);
}
html[data-theme="dark"]{
  --feego-bg: var(--surface-page);
  --feego-card: var(--surface-card);
  --feego-card-solid: var(--surface-card-solid);
  --feego-text: var(--text-main);
  --feego-muted: var(--text-muted-3);
  --feego-border: var(--border-soft);
  --feego-shadow: var(--shadow-card);
  --feego-primary: var(--color-primary);
  --feego-primary-2: var(--color-secondary);
}

.feego-muted{ color: var(--feego-muted); }

.feego-input{
  background: var(--surface-overlay-mid);
  border: 1px solid var(--feego-border);
  color: var(--feego-text);
  outline: none;
}
html[data-theme="light"] .feego-input{ background: var(--surface-overlay-soft); }
.feego-input:focus{ box-shadow: 0 0 0 4px var(--focus-ring); border-color: var(--focus-border); }

.feego-btn-primary{ background: linear-gradient(135deg, var(--feego-primary), var(--feego-primary-2)); color: var(--on-primary); border: 1px solid var(--border-soft); }
.feego-btn-primary:hover{ filter: brightness(1.05); }

.feego-btn-outline{ background: transparent; color: var(--feego-text); border: 1px solid var(--feego-border); }
.feego-btn-outline:hover{ background: var(--hover-soft); }
html[data-theme="light"] .feego-btn-outline:hover{ background: var(--hover-subtle); }

.feego-btn-ghost{ background: transparent; color: var(--feego-text); border: 1px solid transparent; }
.feego-btn-ghost:hover{ background: var(--hover-soft); }
html[data-theme="light"] .feego-btn-ghost:hover{ background: var(--hover-subtle); }

/* Card surfaces */
html[data-theme="light"] .feego-card {
  background: var(--surface-card-solid);
  border: 1px solid var(--border-softer);
  box-shadow: var(--shadow-card);
}

html[data-theme="dark"] .feego-card {
  background: var(--surface-card);
  border: 1px solid var(--border-soft);
  backdrop-filter: blur(14px);
}

/* Sidebar & mobile surfaces in LIGHT mode */
html[data-theme="light"] .feego-sidebar {
  background: var(--surface-card) !important;
  border-right: 1px solid var(--border-softer) !important;
  backdrop-filter: blur(10px) !important;
}

html[data-theme="light"] .feego-mobile-header {
  background: linear-gradient(90deg, var(--surface-card-solid), var(--surface-header-accent)) !important;
  border-bottom: 1px solid var(--border-softer) !important;
  color: var(--text-main) !important;
}

html[data-theme="light"] .feego-mobile-drawer {
  background: var(--surface-overlay) !important;
  border-right: 1px solid var(--border-softer) !important;
  color: var(--text-main) !important;
}

/* Light-mode overrides for common Tailwind utility classes already used in the app.
   This lets the whole UI switch cleanly without refactoring every component today. */
html[data-theme="light"] .border-white\/10 { border-color: var(--border-soft) !important; }
html[data-theme="light"] .bg-white\/5 { background: var(--surface-overlay-soft) !important; }
html[data-theme="light"] .bg-black\/20 { background: var(--surface-overlay-soft) !important; }
html[data-theme="light"] .bg-black\/30 { background: var(--surface-overlay-mid) !important; }
html[data-theme="light"] .bg-slate-950\/80 { background: var(--surface-overlay) !important; }
html[data-theme="light"] .bg-slate-950\/90 { background: var(--surface-overlay-strong) !important; }
html[data-theme="light"] .bg-slate-950\/95 { background: var(--surface-overlay-stronger) !important; }
html[data-theme="light"] .from-slate-950 { --tw-gradient-from: var(--surface-card-solid) !important; }
html[data-theme="light"] .to-slate-900 { --tw-gradient-to: var(--surface-header-accent) !important; }

html[data-theme="light"] a { color: var(--color-primary-strong); }

html[data-theme="light"] .text-white { color: var(--text-main) !important; }
html[data-theme="light"] .text-slate-200 { color: var(--text-muted-1) !important; }
html[data-theme="light"] .text-slate-300 { color: var(--text-muted-2) !important; }
html[data-theme="light"] .text-slate-400 { color: var(--text-muted-3) !important; }

html[data-theme="light"] .backdrop-blur-xl { backdrop-filter: blur(10px) !important; }

/* Modal surfaces */
.feego-overlay{ background: var(--overlay-backdrop); }
html[data-theme="light"] .feego-overlay{ background: var(--overlay-backdrop); }

.feego-modal{
  border: 1px solid var(--modal-border);
  background: var(--modal-bg);
  color: var(--text-main);
  backdrop-filter: blur(14px);
}
html[data-theme="light"] .feego-modal{
  border: 1px solid var(--modal-border);
  background: var(--modal-bg);
  color: var(--text-main);
}

.feego-nav-active {
  background: var(--active-bg);
  border-color: var(--active-border);
}

@keyframes toast-in {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.96);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes toast-out {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(8px) scale(0.96);
  }
}

@keyframes upload-queue-enter {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.upload-queue-item {
  animation: upload-queue-enter 200ms ease-out both;
}

@keyframes upload-queue-exit {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(8px) scale(0.98);
  }
}

.upload-queue-item--leaving {
  animation: upload-queue-exit 300ms ease-out forwards;
}

@media (prefers-reduced-motion: reduce) {
  .upload-queue-item {
    animation: none !important;
  }
  .upload-queue-item--leaving {
    animation: none !important;
  }
}
